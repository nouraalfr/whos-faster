CREATE DATABASE IF NOT EXISTS game;
USE game;

CREATE TABLE users (
    `id` int NOT NULL AUTO_INCREMENT,
    `username` varchar(50) NOT NULL,
    `password` varchar(255) NOT NULL,
    PRIMARY KEY (`id`),
    UNIQUE KEY `username` (`username`)
);

CREATE TABLE texts (
    `id` int NOT NULL AUTO_INCREMENT,
    `content` text NOT NULL,
    PRIMARY KEY (`id`)
);

CREATE TABLE attempts (
    `id` int NOT NULL AUTO_INCREMENT,
    `user_id` int NOT NULL,
    `score` int NOT NULL,
    `text_id` int NOT NULL,
    PRIMARY KEY (`id`),
    KEY `user_id` (`user_id`),
    KEY `text_id` (`text_id`),
    CONSTRAINT `attempts_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`),
    CONSTRAINT `attempts_ibfk_2` FOREIGN KEY (`text_id`) REFERENCES `texts` (`id`)
);

INSERT INTO texts (content) 
VALUES 
    (
        'اذا غامرت في شرف مروم فلا تقنع بما دون النجوم. فطعم الموت في امر حقير كطعم الموت في امر عظيم. يرى الجبناء ان العجز عقل وتلك خديعة الطبع اللئيم. وكل شجاعة في المرء تغني ولا مثل الشجاعة في الحكيم. فان عشت في الدنيا كريما فاعلم ان المجد لا ينال بالنوم. وان مت لا تاسف على امر فان حياتك كانت عزا يدوم.'
    ),
    (
        'انا الذي نظر الاعمى الى ادبي واسمعت كلماتي من به صمم. تمرست بالايام حتى غلبتها واصبح لي منها ظهير ومنقب. وما الدهر الا بحر من الماسي يجرف فيه القوي والضعيف معا. فلا تنحني ان مرت رياح الحياة فان الباسل يزهو بجلده امام المصاعب. وان ساءت بك الاحوال فاصبر، فالصبر مفتاح الحزم وعنوان الظفر. فان العيش في ظل المجد عز، وفي ظل الذل خزي لا يغتفر.'
    ),
    (
        'ايها المشتكي وما بك داء كيف تغدو اذا غدوت  ان شر الجناة في الارض نفس تتوقى قبل الرحيل الرحيلا. وترى الشوك في الورود وتعمى ان ترى فوقها الندى اكليلا. فتمتع بالصباح ما دمت فيه لا تخف ان يزول حتى يزولا. ايها الشاكي الذي اغلق عينيه عن نور الامل في الظلال الطويلة، افتح قلبك للنور فانت الحياة وان بدا العالم غريبا ثقيلا.'
    ),
    (
        'وما نيل المطالب بالتمني ولكن تؤخذ الدنيا غلابا. وما استعصى على قوم منال اذا الاقدام كان لهم ركابا. وان الامور العظام لا تنال الا بالتضحية والهمة العالية. فاصبر على ما تلاقي من شدائد الحياة، فان المجد لا يهدى بل يكتسب اكتسابا. والحر من اذا عزم على شيء لا يرده عنه ضعف او ارتيابا. فان السعي يتوج بالتوفيق لمن صان النفس من الذل والخراب.'
    ),
    (
        'اذا اردت ان تحيا سعيدا فلا تجعل همك ما قد فات. ان الامل يضيء درب الحائرين ويعيد للنفس ما اضاع من زادها. ولا تترك الاحزان تقتل قلبك، فان القلب القوي عنوان الحياة. فكل يوم جديد هو فرصة لنبدأ من جديد ونجعل للروح املا يعيدها. ولا تياس ان تعثرت مرة، فان التعثر هو المعلم الاول للمضي قدما. والطريق مليء بالاشواك، لكن معه الورود تزهر في نهاية المسير.'
    ),
    (
        'ان كنت ذا قلب حي فلا تبخل بالخير على الناس. فالكرم نور القلب وصفاء النفس وزينة الدنيا. وان المال ما هو الا ظل زائل يبقى اثره بما فعلته به. فاجعل للناس منك نصيبا في حاجاتهم، فان الحياة تزداد جمالا بالعطاء. ولا تتفاخر بما تملك فان التواضع تاج الكرامة، والعظمة في السخاء. فان الكرام من تركوا اثرا جميلا في النفوس، لا الاموال في البيوت.'
    ),
    (
        'اذا كنت في كل الامور معاتبا صديقك، لم تلق الذي لا تعاتبه. فعش واحدا او صل اخاك، فانه مقارف ذنب مرة ومجانبه. ولا تطل العتاب على من ودك، فان النفس تسام من كثرة العتاب. وان عجزت عن اصلاح امر، فسامح وارحل وابق الكرامة لنفسك. فالصديق الصادق هو من يقف معك وقت حاجتك لا وقت الراحة. وان خانك من وثقت به، فاعلم ان الامل في الاوفياء لا يموت.'
    );

